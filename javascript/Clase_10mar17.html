<!DOCTYPE html>
<html>
<head>

    <script type="text/javascript">
    //ESTE FICHERO ES LA CLASE DEL 10MAR17
        function cuentaPalabras(){
            var texto = document.getElementById("texto").value;
            var textoSplit =  texto.split(" ");
            console.log('split: ', textoSplit);
            var textoReplica = textoSplit.slice(0);
            console.log('split replica: ', textoReplica);
            console.log('las claves del array asociativo son: ', Object.keys(textoSplit));

            miObjeto = {};
            for(var i=0; i<textoSplit.length; i++){
                var contadorDeIguales = 0;
                for(var i2 = 0; i2<textoReplica.length; i2++){
                    //if(textoSplit[i]==textoReplica[i2]){//Asi me lo hizo Javier y funciona bien
                    if(textoSplit[i].localeCompare(textoReplica[i2]) == 0){//tb funciona!!!!!
                        contadorDeIguales ++;
                    } 
                }
                miObjeto[textoSplit[i]] = contadorDeIguales;

                //miObjeto.textoSplit[]
            }
            console.log('comparacion: ' +JSON.stringify(miObjeto));
            //document.getElementById("resultadoArray").innerHTML= texto;
            document.getElementById("resultadoArray").innerHTML= JSON.stringify(miObjeto);
        }

        function validaMail(){
            //var regExp = /[@]/;
            var regExp = /[@\.]/;
            var texto = document.getElementById("mail").value;
            console.log('texto.match: ',texto.match(regExp));
            console.log('patron.exec: ',regExp.exec(texto));
            console.log('patron.test: ',regExp.test(texto));
            if(regExp.test(texto)){
                document.getElementById("validaMail").innerHTML= "Email valido";
            }else{
                document.getElementById("validaMail").innerHTML= "Email NO valido";
            }
        }

        function validaTelefono(){
            //var regExp = /[@]/;
            var regExp = /[\+?{1}\d+^\D]/;
            var texto = document.getElementById("telefono").value;
            console.log('texto.match: ',texto.match(regExp));
            console.log('patron.exec: ',regExp.exec(texto));
            console.log('patron.test: ',regExp.test(texto));
            if(regExp.test(texto)){
                document.getElementById("validaTelefono").innerHTML= "Telefono valido";
            }else{
                document.getElementById("validaTelefono").innerHTML= "Telefono NO valido";
            }
        }
    </script>
</head>
<body>


    <h3>Contador de palabras</h3>
    Introduce un texto:<input id="texto" type="text">
    <button type="button" onclick="cuentaPalabras()"> Cuenta palabras</button>

    <br/>
    <p id="resultadoArray">Resultado:</p>
    <br/>

    <h3>Validar correo electronico con expresiones regulares</h3>
    Introduce un texto:<input id="mail" type="text">
    <button type="button" onclick="validaMail()"> Validar Email</button>

    <br/>
    <p id="validaMail">Resultado:</p>
    <br/>

    <h3>Validar numero de telefono</h3>
    Introduce un telefono:<input id="telefono" type="text">
    <button type="button" onclick="validaTelefono()"> Validar telefono</button>

    <br/>
    <p id="validaTelefono">Resultado:</p>
    <br/>
</body>
</html>